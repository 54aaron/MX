/usr/bin/lli

###### Testing test-gcd
./mx.native tests/test-gcd.mx > test-gcd.ll
llc -relocation-model=pic test-gcd.ll > test-gcd.s
cc -o test-gcd.exe test-gcd.s mx.c -lm
./test-gcd.exe
diff -b test-gcd.out tests/test-gcd.out > test-gcd.diff
###### SUCCESS

###### Testing test-hello
./mx.native tests/test-hello.mx > test-hello.ll
llc -relocation-model=pic test-hello.ll > test-hello.s
cc -o test-hello.exe test-hello.s mx.c -lm
./test-hello.exe
diff -b test-hello.out tests/test-hello.out > test-hello.diff
###### SUCCESS

###### Testing test-matrix
./mx.native tests/test-matrix.mx > test-matrix.ll
Fatal error: exception Failure("Matrix rows are not all the same length")
###### FAILED

###### Testing fail-add1
./mx.native < tests/fail-add1.mx 2> fail-add1.err >> testall.log
diff -b fail-add1.err tests/fail-add1.err > fail-add1.diff
###### SUCCESS

###### Testing fail-add2
./mx.native < tests/fail-add2.mx 2> fail-add2.err >> testall.log
diff -b fail-add2.err tests/fail-add2.err > fail-add2.diff
###### SUCCESS

###### Testing fail-add3
./mx.native < tests/fail-add3.mx 2> fail-add3.err >> testall.log
diff -b fail-add3.err tests/fail-add3.err > fail-add3.diff
###### SUCCESS

###### Testing fail-arithmetic
./mx.native < tests/fail-arithmetic.mx 2> fail-arithmetic.err >> testall.log
diff -b fail-arithmetic.err tests/fail-arithmetic.err > fail-arithmetic.diff
FAILED fail-arithmetic.err differs from tests/fail-arithmetic.err
###### FAILED

###### Testing fail-assign1
./mx.native < tests/fail-assign1.mx 2> fail-assign1.err >> testall.log
diff -b fail-assign1.err tests/fail-assign1.err > fail-assign1.diff
###### SUCCESS

###### Testing fail-assign2
./mx.native < tests/fail-assign2.mx 2> fail-assign2.err >> testall.log
diff -b fail-assign2.err tests/fail-assign2.err > fail-assign2.diff
###### SUCCESS

###### Testing fail-assign3
./mx.native < tests/fail-assign3.mx 2> fail-assign3.err >> testall.log
diff -b fail-assign3.err tests/fail-assign3.err > fail-assign3.diff
###### SUCCESS

###### Testing fail-matrix-declaration
./mx.native < tests/fail-matrix-declaration.mx 2> fail-matrix-declaration.err >> testall.log
diff -b fail-matrix-declaration.err tests/fail-matrix-declaration.err > fail-matrix-declaration.diff
FAILED fail-matrix-declaration.err differs from tests/fail-matrix-declaration.err
###### FAILED

###### Testing fail-subtract1
./mx.native < tests/fail-subtract1.mx 2> fail-subtract1.err >> testall.log
diff -b fail-subtract1.err tests/fail-subtract1.err > fail-subtract1.diff
###### SUCCESS

###### Testing fail-subtract2
./mx.native < tests/fail-subtract2.mx 2> fail-subtract2.err >> testall.log
diff -b fail-subtract2.err tests/fail-subtract2.err > fail-subtract2.diff
###### SUCCESS
